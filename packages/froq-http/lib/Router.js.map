{"version":3,"sources":["../src/Router.js"],"names":["Router","routes","req","resp","next","lastRoute","undefined","route","findIndex","handle","push"],"mappings":";;;;;;;;;;;;IAAqBA,M;AACjB,sBAAc;AAAA;;AACV,aAAKC,MAAL,GAAc,EAAd;AACH;;;;;iGAEYC,G,EAAKC,I,EAAMC,I;;;oBAAMC,S,uEAAYC,S;;;;;;AAChCC,qC,GAAQ,KAAKN,MAAL,CACVI,cAAcC,SAAd,GACM,CADN,GAEM,KAAKL,MAAL,CAAYO,SAAZ,CAAsB;AAAA,2CAASD,UAAUF,SAAnB;AAAA,iCAAtB,IAAsD,CAHlD,C;;oCAMTE,K;;;;;;uCACKH,M;;;;;;;uCAIJG,MAAME,MAAN,CAAaP,GAAb,EAAkBC,IAAlB,0DAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DACpB,MAAKM,MAAL,CAAYP,GAAZ,EAAiBC,IAAjB,EAAuBC,IAAvB,EAA6BG,KAA7B,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAxB,G;;;;;;;;;;;;;;;;;;4BAKNA,K,EAAO;AACP,iBAAKN,MAAL,CAAYS,IAAZ,CAAiBH,KAAjB;AACH;;;;;;kBAxBgBP,M","file":"Router.js","sourcesContent":["export default class Router {\n    constructor() {\n        this.routes = [];\n    }\n\n    async handle(req, resp, next, lastRoute = undefined) {\n        const route = this.routes[\n            lastRoute === undefined\n                ? 0\n                : this.routes.findIndex(route => route === lastRoute) + 1\n        ];\n\n        if (!route) {\n            await next();\n            return;\n        }\n\n        await route.handle(req, resp, async () => {\n            await this.handle(req, resp, next, route);\n        });\n    }\n\n    add(route) {\n        this.routes.push(route);\n    }\n}"]}